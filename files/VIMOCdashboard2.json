{"version":1,"allow_edit":true,"plugins":["/plugins/all","https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.18.1/moment.min.js","https://www.dropbox.com/s/3xh7geybvvsb1a3/vimocDatasource.js?raw=1","https://www.dropbox.com/s/fokofx05wwdbcu3/vimocChart.js?raw=1","https://www.dropbox.com/s/q6eqjn4t645tehg/dropdown_command_small.js?raw=1","https://www.dropbox.com/s/jiiik5ypdeqobgc/datetimepicker_widget.js?raw=1","https://www.dropbox.com/s/ttnektk5v7ddpax/vimocMap.js?raw=1"],"panes":[{"title":"Site Info","width":1,"row":{"3":1,"4":1,"5":1},"col":{"3":1,"4":1,"5":1},"col_width":1,"widgets":[{"type":"text_widget","settings":{"animate":false,"value":"datasources[\"UCLA\"][\"description\"]","size":"regular"}},{"type":"text_widget","settings":{"animate":true,"value":"datasources[\"UCLA\"][\"numsensors\"]","size":"regular","title":"Number of Zones"}},{"type":"sensityWidget","settings":{"parking_spaces":[]}}]},{"title":"Sensor 1","width":1,"row":{"3":1,"4":1,"5":1},"col":{"3":2,"4":2,"5":2},"col_width":1,"widgets":[{"type":"text_widget","settings":{"animate":true,"value":"datasources[\"UCLA\"][\"sensors\"][0][\"info\"][\"Name\"]","size":"regular"}},{"type":"text_widget","settings":{"animate":true,"value":"var id = datasources[\"UCLA\"][\"sensors\"][0][\"guid\"];\nif (id.endsWith('e'))\n    {\n      return 'Bike';  \n    }\nelse if (id.endsWith('r'))\n    {\n      return 'Car';  \n    }\nelse if (id.endsWith('d'))\n    {\n      return 'Pedestrian';  \n    }","size":"regular","title":"Type"}},{"type":"sensityWidget","settings":{"parking_spaces":["datasources[\"UCLA\"][\"sensors\"][0][\"gpsCoord\"][0]"]}}]},{"title":"Sensor 2","width":1,"row":{"3":1,"4":1,"5":1},"col":{"3":3,"4":3,"5":3},"col_width":1,"widgets":[{"type":"text_widget","settings":{"animate":true,"value":"datasources[\"UCLA\"][\"sensors\"][3][\"info\"][\"Name\"]","size":"regular"}},{"type":"text_widget","settings":{"animate":true,"value":"var id = datasources[\"UCLA\"][\"sensors\"][3][\"guid\"];\nif (id.endsWith('e'))\n    {\n      return 'Bike';  \n    }\nelse if (id.endsWith('r'))\n    {\n      return 'Car';  \n    }\nelse if (id.endsWith('d'))\n    {\n      return 'Pedestrian';  \n    }","size":"regular","title":"Type"}},{"type":"sensityWidget","settings":{"parking_spaces":["datasources[\"UCLA\"][\"sensors\"][3][\"gpsCoord\"][0]"]}}]},{"title":"Sensor 3","width":1,"row":{"3":15,"4":1},"col":{"3":1,"4":4},"col_width":1,"widgets":[{"type":"text_widget","settings":{"animate":true,"value":"datasources[\"UCLA\"][\"sensors\"][9][\"info\"][\"Name\"]","size":"regular"}},{"type":"text_widget","settings":{"animate":true,"value":"var id = datasources[\"UCLA\"][\"sensors\"][9][\"guid\"];\nif (id.endsWith('e'))\n    {\n      return 'Bike';  \n    }\nelse if (id.endsWith('r'))\n    {\n      return 'Car';  \n    }\nelse if (id.endsWith('d'))\n    {\n      return 'Pedestrian';  \n    }","size":"regular","title":"Type"}},{"type":"sensityWidget","settings":{"parking_spaces":["datasources[\"UCLA\"][\"sensors\"][9][\"gpsCoord\"][0]"]}}]},{"title":"Graph Tools","width":1,"row":{"3":15,"4":15,"5":21},"col":{"3":2,"4":1,"5":1},"col_width":1,"widgets":[{"type":"dropdown_command","settings":{"title":"Sensor(s)","options":"datasources[\"UCLA\"][\"sensors\"]","on_change":"if (sensor == \"all\") {\n\td3.select(window.chart.container).datum(window.data);\n    window.chart.update();\n} else {\n    d3.select(window.chart.container).datum(_.filter(window.data,function(d){return d.key.split(\"-\")[0]==sensor.substring(9);}));\n    window.chart.update();\n}","on_change_name":"sensiz"}},{"type":"dropdown_command","settings":{"on_change_name":"dirFunc","on_change":"if (sensor == \"all\") {\n\td3.select(window.chart.container).datum(window.data);\n    window.chart.update();\n} else if (sensor == \"In\"){\n\td3.select(window.chart.container).datum(_.filter(window.data,function(d){return d.dir==\"in\";}));\n    window.chart.update();\n} else if (sensor == \"Out\"){\n\td3.select(window.chart.container).datum(_.filter(window.data,function(d){return d.dir==\"out\";}));\n    window.chart.update();\n} else if (sensor == \"North\"){\n\td3.select(window.chart.container).datum(_.filter(window.data,function(d){return d.orient==\"north\";}));\n    window.chart.update();\n} else if (sensor == \"South\"){\n\td3.select(window.chart.container).datum(_.filter(window.data,function(d){return d.orient==\"south\";}));\n    window.chart.update();\n} else if (sensor == \"East\"){\n\td3.select(window.chart.container).datum(_.filter(window.data,function(d){return d.orient==\"east\";}));\n    window.chart.update();\n} else if (sensor == \"West\"){\n\td3.select(window.chart.container).datum(_.filter(window.data,function(d){return d.orient==\"west\";}));\n    window.chart.update();\n}","options":"['In','Out','North','South','East','West']","title":"Direction"}},{"type":"timepicker","settings":{"start_date":"2017-08-25T16:33:00.000Z","end_date":"2017-08-28T06:51:51.222Z"}}]},{"title":"Gateway Plaza Traffic History","width":1,"row":{"3":33,"4":15},"col":{"3":1,"4":2},"col_width":"3","widgets":[{"type":"vimocChartWidget","settings":{"type":"Line","data":"datasources[\"UCLA\"]","timeframe":"All","size":"Large","include_axis":false,"width":900,"height":600}}]}],"datasources":[{"name":"UCLA","type":"vimoc_datasource","settings":{"start":"2017-08-25T16:33:00.000Z","end":"2017-08-28T06:51:51.222Z","api_token":"e8126f5c202242ad11839c3a4e4decc","site":"ucla_gwp","refresh_time":60000}}],"columns":4,"pane_header_bg_color":null,"pane_bg_color":null}